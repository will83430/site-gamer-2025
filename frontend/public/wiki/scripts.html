<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scripts - Site Gamer 2025</title>
    <link rel="stylesheet" href="wiki-styles.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f0f1e; color: #e0e0e0; line-height: 1.6; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 50px 20px; text-align: center; box-shadow: 0 5px 30px rgba(102, 126, 234, 0.4); }
        .header h1 { font-size: 3em; color: white; margin-bottom: 10px; }
        .header p { font-size: 1.2em; opacity: 0.9; }
        .nav { background: rgba(102, 126, 234, 0.1); padding: 15px 20px; border-bottom: 1px solid #667eea; position: sticky; top: 0; z-index: 100; backdrop-filter: blur(10px); }
        .nav a { color: #667eea; text-decoration: none; margin-right: 25px; transition: all 0.3s; font-weight: 500; display: inline-flex; align-items: center; gap: 8px; }
        .nav a:hover { color: #764ba2; transform: translateY(-2px); }
        .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
        .section { margin-bottom: 50px; background: linear-gradient(145deg, #2a2a40, #1f1f35); border: 2px solid #667eea; border-radius: 15px; padding: 30px; }
        .section h2 { color: #667eea; margin-bottom: 20px; font-size: 2em; display: flex; align-items: center; gap: 10px; }
        .section h3 { color: #2ecc71; margin: 25px 0 15px; font-size: 1.4em; }
        .script { background: rgba(102, 126, 234, 0.1); border-left: 4px solid #2ecc71; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .script-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; flex-wrap: wrap; }
        .script-name { font-family: 'Courier New', monospace; color: #ffd700; font-size: 1.2em; font-weight: 600; }
        .badge { display: inline-block; padding: 4px 12px; border-radius: 15px; font-size: 0.8em; margin: 0 5px; font-weight: 600; }
        .badge-generation { background: rgba(46, 204, 113, 0.3); color: #2ecc71; }
        .badge-verification { background: rgba(52, 152, 219, 0.3); color: #3498db; }
        .badge-normalization { background: rgba(243, 156, 18, 0.3); color: #f39c12; }
        .badge-maintenance { background: rgba(155, 89, 182, 0.3); color: #9b59b6; }
        .script-desc { opacity: 0.85; margin: 10px 0; }
        code { background: rgba(102, 126, 234, 0.2); padding: 3px 8px; border-radius: 4px; font-family: 'Courier New', monospace; color: #ffd700; }
        pre { background: #1a1a2e; padding: 20px; border-radius: 10px; overflow-x: auto; margin: 15px 0; border: 1px solid #667eea; }
        pre code { background: none; padding: 0; color: #2ecc71; }
        .usage { background: rgba(52, 152, 219, 0.1); border-left: 4px solid #3498db; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .usage-title { color: #3498db; font-weight: 600; margin-bottom: 10px; }
        .warning { background: rgba(243, 156, 18, 0.1); border-left: 4px solid #f39c12; padding: 15px; margin: 15px 0; border-radius: 5px; }
        .warning-title { color: #f39c12; font-weight: 600; margin-bottom: 10px; }
        .toc { background: rgba(102, 126, 234, 0.1); padding: 20px; border-radius: 10px; margin-bottom: 30px; }
        .toc h3 { color: #667eea; margin-bottom: 15px; }
        .toc ul { list-style: none; }
        .toc li { margin: 8px 0; }
        .toc a { color: #e0e0e0; text-decoration: none; transition: color 0.3s; }
        .toc a:hover { color: #667eea; }
        .back-link { display: inline-block; margin-top: 30px; padding: 12px 25px; background: #667eea; color: white; border-radius: 8px; text-decoration: none; transition: all 0.3s; }
        .back-link:hover { background: #764ba2; transform: translateY(-2px); }
        .footer { text-align: center; margin-top: 60px; padding: 30px; border-top: 1px solid rgba(102, 126, 234, 0.3); opacity: 0.7; }
    </style>
</head>
<body>
    <div class="header">
        <h1>‚öôÔ∏è Scripts</h1>
        <p>Documentation des scripts Node.js du Site Gamer 2025</p>
    </div>

    <nav class="nav">
        <a href="wiki.html">üè† Accueil Wiki</a>
        <a href="api-reference.html">üìÅ API</a>
        <a href="database.html">üóÑÔ∏è Base de donn√©es</a>
        <a href="scripts.html">‚öôÔ∏è Scripts</a>
        <a href="troubleshooting.html">üîß D√©pannage</a>
        <a href="changelog.html">üìù Changelog</a>
    </nav>

    <div class="container">
        <div class="toc">
            <h3>üìë Table des mati√®res</h3>
            <ul>
                <li><a href="#generation">üî® Scripts de g√©n√©ration</a></li>
                <li><a href="#verification">‚úÖ Scripts de v√©rification</a></li>
                <li><a href="#normalisation">üîÑ Scripts de normalisation</a></li>
                <li><a href="#maintenance">üõ†Ô∏è Scripts de maintenance</a></li>
                <li><a href="#backup">üíæ Scripts de backup</a></li>
            </ul>
        </div>

        <div class="warning">
            <div class="warning-title">‚ö†Ô∏è Pr√©requis</div>
            <p>Tous les scripts n√©cessitent :</p>
            <ul style="margin-left: 20px; margin-top: 10px;">
                <li><strong>Node.js 18+</strong> (pour fetch natif)</li>
                <li><strong>PostgreSQL accessible</strong> avec les credentials par d√©faut</li>
                <li><strong>Serveur en cours d'ex√©cution</strong> (pour certains scripts)</li>
            </ul>
        </div>

        <!-- Scripts de g√©n√©ration -->
        <div class="section" id="generation">
            <h2>üî® Scripts de g√©n√©ration</h2>
            <p>Scripts pour cr√©er des produits et g√©n√©rer des fiches HTML.</p>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">add-new-products.js</span>
                    <span class="badge badge-generation">G√âN√âRATION</span>
                </div>
                <div class="script-desc">Ins√®re les 12 nouveaux produits de d√©cembre 2025 dans la base de donn√©es avec toutes leurs m√©tadonn√©es.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/add-new-products.js</code></pre>
                </div>

                <p><strong>Produits ajout√©s :</strong></p>
                <ul style="margin: 10px 0; margin-left: 20px; opacity: 0.85;">
                    <li>prod_50 : iPhone 15 Pro Max</li>
                    <li>prod_51 : Samsung Galaxy S24 Ultra</li>
                    <li>prod_52 : Apple Watch Ultra 2</li>
                    <li>prod_53 : Samsung Galaxy Watch6 Classic</li>
                    <li>prod_54 : Canon EOS R5 Mark II</li>
                    <li>prod_55 : Sony Alpha 7R V</li>
                    <li>prod_56 : LG OLED G4 77"</li>
                    <li>prod_57 : Samsung Neo QLED QN95D 85"</li>
                    <li>prod_58 : Meta Quest 3</li>
                    <li>prod_59 : PlayStation VR2</li>
                    <li>prod_60 : NVIDIA GeForce RTX 4090</li>
                    <li>prod_61 : AMD Radeon RX 7900 XTX</li>
                </ul>

                <p style="margin-top: 15px;"><strong>Note :</strong> Tous les produits sont marqu√©s <code>top_du_mois = true</code></p>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">generate-all-new-fiches.js</span>
                    <span class="badge badge-generation">G√âN√âRATION</span>
                </div>
                <div class="script-desc">G√©n√®re les fiches HTML pour les 12 nouveaux produits via l'API.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/generate-all-new-fiches.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Fonctionnement :</strong></p>
                <ol style="margin-left: 20px; opacity: 0.85;">
                    <li>V√©rifie que chaque produit existe dans la DB</li>
                    <li>Appelle <code>POST /api/generate-fiche/:id</code> pour chaque produit</li>
                    <li>Affiche le r√©sultat de chaque g√©n√©ration</li>
                </ol>

                <div class="warning">
                    <div class="warning-title">‚ö†Ô∏è Important</div>
                    <p>Le serveur doit √™tre en cours d'ex√©cution sur le port 3000.</p>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">generate-new-products.js</span>
                    <span class="badge badge-generation">G√âN√âRATION</span>
                </div>
                <div class="script-desc">G√©n√®re les fiches HTML directement depuis la DB sans passer par l'API.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/generate-new-products.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Avantage :</strong> Fonctionne m√™me si le serveur n'est pas d√©marr√©.</p>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">regenerate-all-fiches.js</span>
                    <span class="badge badge-generation">G√âN√âRATION</span>
                </div>
                <div class="script-desc">R√©g√©n√®re TOUTES les fiches HTML de tous les produits via l'API.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/regenerate-all-fiches.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Cas d'usage :</strong> Apr√®s modification du template ou des styles.</p>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">regenerate-fiches-top.js</span>
                    <span class="badge badge-generation">G√âN√âRATION</span>
                </div>
                <div class="script-desc">R√©g√©n√®re uniquement les fiches des produits <code>top_du_mois = true</code>.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/regenerate-fiches-top.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Cas d'usage :</strong> Mise √† jour rapide des produits vedettes.</p>
            </div>
        </div>

        <!-- Scripts de v√©rification -->
        <div class="section" id="verification">
            <h2>‚úÖ Scripts de v√©rification</h2>
            <p>Scripts pour contr√¥ler l'int√©grit√© des donn√©es et d√©tecter les anomalies.</p>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">verify-database-state.js</span>
                    <span class="badge badge-verification">V√âRIFICATION</span>
                </div>
                <div class="script-desc">Analyse compl√®te de l'√©tat de la base de donn√©es avec d√©tection des probl√®mes courants.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/verify-database-state.js</code></pre>
                </div>

                <p><strong>V√©rifications effectu√©es :</strong></p>
                <ul style="margin: 10px 0; margin-left: 20px; opacity: 0.85;">
                    <li>‚úÖ Espaces dans les liens de fiches</li>
                    <li>‚úÖ Cat√©gories non en lowercase</li>
                    <li>‚úÖ Chemins d'images absolus</li>
                    <li>‚úÖ Format des prix</li>
                    <li>‚úÖ Descriptions dupliqu√©es</li>
                    <li>‚úÖ Produits sans <code>titre_affiche</code></li>
                    <li>‚úÖ Structure des <code>donnees_fiche</code></li>
                </ul>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">quick-check.js</span>
                    <span class="badge badge-verification">V√âRIFICATION</span>
                </div>
                <div class="script-desc">Test rapide de connexion DB et affichage de produits sample.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node quick-check.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Cas d'usage :</strong> Diagnostic rapide de la disponibilit√© de la DB.</p>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">check-prod50.js</span>
                    <span class="badge badge-verification">V√âRIFICATION</span>
                </div>
                <div class="script-desc">Affiche tous les d√©tails d'un produit sp√©cifique (prod_50 par d√©faut).</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/check-prod50.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">check-schemas.js</span>
                    <span class="badge badge-verification">V√âRIFICATION</span>
                </div>
                <div class="script-desc">V√©rifie la structure des tables PostgreSQL.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/check-schemas.js</code></pre>
                </div>
            </div>
        </div>

        <!-- Scripts de normalisation -->
        <div class="section" id="normalisation">
            <h2>üîÑ Scripts de normalisation</h2>
            <p>Scripts pour normaliser et enrichir les donn√©es par cat√©gorie.</p>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">normalize-*.js</span>
                    <span class="badge badge-normalization">NORMALISATION</span>
                </div>
                <div class="script-desc">Scripts de normalisation sp√©cifiques par cat√©gorie.</div>
                
                <p style="margin-top: 15px;"><strong>Scripts disponibles :</strong></p>
                <ul style="margin: 10px 0; margin-left: 20px; opacity: 0.85;">
                    <li><code>normalize-camera.js</code> - Normalise les cam√©ras</li>
                    <li><code>normalize-casque-vr.js</code> - Normalise les casques VR</li>
                    <li><code>normalize-drone.js</code> - Normalise les drones</li>
                    <li><code>normalize-ecran-tv.js</code> - Normalise les √©crans TV</li>
                    <li><code>normalize-montre-connectee.js</code> - Normalise les montres</li>
                    <li><code>normalize-smartphone.js</code> - Normalise les smartphones</li>
                    <li><code>normalize-tablette.js</code> - Normalise les tablettes</li>
                    <li><code>normalize-video-projecteur.js</code> - Normalise les projecteurs</li>
                    <li><code>normalize-remaining-categories.js</code> - Autres cat√©gories</li>
                </ul>

                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/normalize-smartphone.js</code></pre>
                </div>

                <p style="margin-top: 15px;"><strong>Actions effectu√©es :</strong></p>
                <ul style="margin-left: 20px; opacity: 0.85;">
                    <li>‚úì Enrichissement des <code>donnees_fiche</code></li>
                    <li>‚úì Compl√©tion des <code>fonctionnalites_avancees</code></li>
                    <li>‚úì Correction des formats</li>
                    <li>‚úì Ajout de contenus d√©taill√©s</li>
                </ul>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">complete-all-donnees-fiche.js</span>
                    <span class="badge badge-normalization">NORMALISATION</span>
                </div>
                <div class="script-desc">Compl√®te les <code>donnees_fiche</code> pour tous les produits manquants.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/complete-all-donnees-fiche.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">fix-*.js</span>
                    <span class="badge badge-normalization">NORMALISATION</span>
                </div>
                <div class="script-desc">Scripts de correction de probl√®mes sp√©cifiques.</div>
                
                <p style="margin-top: 15px;"><strong>Scripts disponibles :</strong></p>
                <ul style="margin: 10px 0; margin-left: 20px; opacity: 0.85;">
                    <li><code>fix-format-prices.js</code> - Normalise le format des prix</li>
                    <li><code>fix-generic-descriptions.js</code> - Corrige les descriptions g√©n√©riques</li>
                    <li><code>fix-descriptions-and-specs.js</code> - Enrichit descriptions et specs</li>
                    <li><code>fix-razer-name.js</code> - Corrige les noms Razer</li>
                </ul>
            </div>
        </div>

        <!-- Scripts de maintenance -->
        <div class="section" id="maintenance">
            <h2>üõ†Ô∏è Scripts de maintenance</h2>
            <p>Scripts pour la gestion quotidienne et la maintenance du syst√®me.</p>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">set-top-decembre.js</span>
                    <span class="badge badge-maintenance">MAINTENANCE</span>
                </div>
                <div class="script-desc">Marque les 12 produits de d√©cembre comme <code>top_du_mois = true</code>.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/set-top-decembre.js</code></pre>
                </div>

                <div class="warning">
                    <div class="warning-title">‚ö†Ô∏è Attention</div>
                    <p>Ce script effectue des PUT complets. Le serveur doit √™tre actif.</p>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">update-top-decembre.js</span>
                    <span class="badge badge-maintenance">MAINTENANCE</span>
                </div>
                <div class="script-desc">Mise √† jour automatique des tops du mois pour d√©cembre.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/update-top-decembre.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">update-links.js</span>
                    <span class="badge badge-maintenance">MAINTENANCE</span>
                </div>
                <div class="script-desc">Met √† jour les chemins des liens de fiches dans la DB.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node update-links.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">fill-titre-affiche.js</span>
                    <span class="badge badge-maintenance">MAINTENANCE</span>
                </div>
                <div class="script-desc">Remplit automatiquement les <code>titre_affiche</code> manquants.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/fill-titre-affiche.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">download-camera-images.js</span>
                    <span class="badge badge-maintenance">MAINTENANCE</span>
                </div>
                <div class="script-desc">T√©l√©charge les images des produits cam√©ra.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/download-camera-images.js</code></pre>
                </div>
            </div>
        </div>

        <!-- Scripts de backup -->
        <div class="section" id="backup">
            <h2>üíæ Scripts de backup et restauration</h2>
            <p>Scripts pour sauvegarder et restaurer les donn√©es.</p>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">restore-backup.js</span>
                    <span class="badge badge-maintenance">BACKUP</span>
                </div>
                <div class="script-desc">Restaure la base de donn√©es depuis un fichier SQL.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node restore-backup.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">restore-backup-novembre.js</span>
                    <span class="badge badge-maintenance">BACKUP</span>
                </div>
                <div class="script-desc">Restaure sp√©cifiquement le backup de novembre.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/restore-backup-novembre.js</code></pre>
                </div>
            </div>

            <div class="script">
                <div class="script-header">
                    <span class="script-name">inspect-backup.js</span>
                    <span class="badge badge-verification">V√âRIFICATION</span>
                </div>
                <div class="script-desc">Inspecte le contenu d'un fichier de backup SQL.</div>
                
                <div class="usage">
                    <div class="usage-title">üìù Utilisation</div>
                    <pre><code>node scripts/inspect-backup.js</code></pre>
                </div>
            </div>

            <div class="warning">
                <div class="warning-title">‚ö†Ô∏è Backup manuel avec pg_dump</div>
                <p>Pour cr√©er un backup manuel :</p>
                <pre><code>pg_dump -U postgres gamer_2025 > backup_$(date +%Y%m%d).sql</code></pre>
            </div>
        </div>

        <a href="wiki.html" class="back-link">‚Üê Retour au Wiki</a>
    </div>

    <div class="footer">
        <p>‚öôÔ∏è Scripts - Site Gamer 2025</p>
        <p>Derni√®re mise √† jour : 26 d√©cembre 2025</p>
    </div>
</body>
</html>
