<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tests - Wiki Site Gamer 2025</title>
    <link rel="stylesheet" href="wiki-styles.css">
</head>
<body>
    <div class="header">
        <h1>ğŸ§ª Tests et QualitÃ©</h1>
        <p>Guide complet des tests automatisÃ©s et manuels</p>
    </div>

    <nav class="nav">
        <a href="wiki.html">ğŸ  Accueil Wiki</a>
        <a href="getting-started.html">ğŸ“– Guide</a>
        <a href="api-reference.html">ğŸ“ API</a>
        <a href="tests.html" class="active">ğŸ§ª Tests</a>
    </nav>

    <div class="container">
        <div class="section">
            <h2>ğŸ¯ Suite de Tests Interactive</h2>
            <p>Interface web complÃ¨te pour tester automatiquement tous les aspects du site.</p>
            
            <div style="text-align: center; margin: 30px 0;">
                <a href="../scripts/maintenance/test-suite.html" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 15px 40px; border-radius: 12px; text-decoration: none; font-size: 1.2em; font-weight: bold; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4); transition: transform 0.2s, box-shadow 0.2s;">
                    ğŸ§ª Ouvrir la Suite de Tests
                </a>
                <p style="margin-top: 10px; opacity: 0.7; font-size: 0.9em;">Nouvelle fenÃªtre - 23 tests automatisÃ©s</p>
            </div>
            
            <div class="code-block">
                <div class="code-header">
                    <span>ğŸŒ URL directe</span>
                </div>
                <pre><code>http://localhost:3000/scripts/maintenance/test-suite.html</code></pre>
            </div>

            <div class="info-box success">
                <strong>âœ¨ 23 tests automatisÃ©s</strong>
                <p>OrganisÃ©s en 3 prioritÃ©s : Critique (P1), Important (P2), RecommandÃ© (P3)</p>
            </div>

            <h3>ğŸ”´ Tests PrioritÃ© Critique (P1)</h3>
            <ul>
                <li><strong>Images & Assets</strong> - VÃ©rifie que toutes les images produits existent</li>
                <li><strong>Fiches HTML</strong> - VÃ©rifie l'accessibilitÃ© des fiches produits</li>
                <li><strong>Base de donnÃ©es</strong> - ContrÃ´le l'intÃ©gritÃ© des donnÃ©es</li>
                <li><strong>API Produits</strong> - Teste tous les endpoints API</li>
                <li><strong>CatÃ©gories</strong> - VÃ©rifie que chaque catÃ©gorie a des produits</li>
            </ul>

            <h3>ğŸŸ¡ Tests PrioritÃ© Importante (P2)</h3>
            <ul>
                <li><strong>Liens internes</strong> - VÃ©rifie tous les liens du site</li>
                <li><strong>Performance</strong> - Mesure les temps de chargement</li>
                <li><strong>Responsive Design</strong> - Test mobile/tablette/desktop</li>
                <li><strong>SystÃ¨me de cache</strong> - VÃ©rifie localStorage</li>
                <li><strong>Recherche</strong> - Teste la fonctionnalitÃ© de recherche</li>
                <li><strong>Filtres</strong> - VÃ©rifie les filtres par catÃ©gorie</li>
            </ul>

            <h3>ğŸ”µ Tests PrioritÃ© RecommandÃ©e (P3)</h3>
            <ul>
                <li><strong>SEO</strong> - Balises meta, titres, descriptions</li>
                <li><strong>AccessibilitÃ©</strong> - Navigation clavier, contrastes</li>
                <li><strong>SÃ©curitÃ©</strong> - Tests injection SQL/XSS basiques</li>
                <li><strong>Validation HTML</strong> - ConformitÃ© W3C</li>
                <li><strong>Erreurs console</strong> - DÃ©tection JavaScript</li>
                <li><strong>CORS</strong> - Configuration cross-origin</li>
                <li><strong>Service Worker</strong> - Fonctionnement SW</li>
                <li><strong>Formulaires</strong> - Validation des champs</li>
                <li><strong>Format images</strong> - Taille et compression</li>
                <li><strong>JSON API</strong> - ValiditÃ© des rÃ©ponses</li>
                <li><strong>Top du mois</strong> - Filtrage des tops</li>
                <li><strong>Pagination</strong> - Si implÃ©mentÃ©e</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸ–¥ï¸ Tests via Scripts Node.js</h2>
            
            <h3>VÃ©rification des Assets</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Terminal</span>
                </div>
                <pre><code>node scripts/maintenance/verify-assets.js</code></pre>
            </div>
            <p><strong>VÃ©rifie :</strong></p>
            <ul>
                <li>âœ… Toutes les images rÃ©fÃ©rencÃ©es existent physiquement</li>
                <li>âš ï¸ IncohÃ©rences de noms (ex: "apple-" manquant)</li>
                <li>ğŸ—‘ï¸ Images orphelines (fichiers non utilisÃ©s)</li>
            </ul>

            <h3>VÃ©rification de la Base de DonnÃ©es</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Terminal</span>
                </div>
                <pre><code>node scripts/maintenance/verify-database-state.js</code></pre>
            </div>
            <p><strong>VÃ©rifie :</strong></p>
            <ul>
                <li>IntÃ©gritÃ© des donnÃ©es produits</li>
                <li>Champs manquants ou vides</li>
                <li>Formats incorrects (prix, liens, etc.)</li>
                <li>CohÃ©rence des catÃ©gories</li>
            </ul>

            <h3>Tests Unitaires Jest</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Terminal</span>
                </div>
                <pre><code># Tous les tests
npm test

# Mode watch (relance auto)
npm run test:watch

# Avec couverture de code
npm run test:coverage</code></pre>
            </div>
            <p><strong>Fichiers testÃ©s :</strong></p>
            <ul>
                <li><code>tests/api.test.js</code> - Endpoints API</li>
                <li><code>tests/database.test.js</code> - Connexions DB</li>
                <li><code>tests/generation.test.js</code> - GÃ©nÃ©ration de fiches</li>
            </ul>
        </div>

        <div class="section">
            <h2>ğŸŒ Tests dans le Navigateur</h2>
            
            <h3>Test Console Errors (Interface dÃ©diÃ©e)</h3>
            <div style="text-align: center; margin: 20px 0;">
                <a href="../scripts/maintenance/test-console-errors.html" target="_blank" style="display: inline-block; background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); color: white; padding: 12px 30px; border-radius: 10px; text-decoration: none; font-size: 1.1em; font-weight: bold; box-shadow: 0 4px 12px rgba(240, 147, 251, 0.4); transition: transform 0.2s;">
                    ğŸ” Tester les Erreurs Console
                </a>
            </div>
            <div class="code-block">
                <div class="code-header">
                    <span>ğŸŒ URL</span>
                </div>
                <pre><code>http://localhost:3000/scripts/maintenance/test-console-errors.html</code></pre>
            </div>
            <p>Teste automatiquement tous les produits pour dÃ©tecter :</p>
            <ul>
                <li>âŒ Images 404</li>
                <li>âŒ Fiches HTML manquantes</li>
                <li>ğŸ“Š Statistiques en temps rÃ©el</li>
                <li>ğŸ“ RÃ©sultats groupÃ©s par catÃ©gorie</li>
            </ul>

            <h3>DevTools (F12)</h3>
            <div class="info-box">
                <strong>VÃ©rifications manuelles rapides :</strong>
                <ol>
                    <li>Ouvre le site : <code>http://localhost:3000</code></li>
                    <li>Appuie sur <code>F12</code></li>
                    <li>Onglet <strong>Console</strong> : erreurs JavaScript ?</li>
                    <li>Onglet <strong>Network</strong> : temps de chargement</li>
                    <li>Onglet <strong>Application</strong> : service worker actif ?</li>
                </ol>
            </div>

            <h3>Test Responsive</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Raccourci</span>
                </div>
                <pre><code>Ctrl + Shift + M (Windows/Linux)
Cmd + Shift + M (Mac)</code></pre>
            </div>
            <p>Teste l'affichage sur diffÃ©rentes rÃ©solutions :</p>
            <ul>
                <li>ğŸ“± Mobile (375px)</li>
                <li>ğŸ“± Tablet (768px)</li>
                <li>ğŸ–¥ï¸ Desktop (1920px)</li>
            </ul>
        </div>

        <div class="section">
            <h2>âš¡ Tests de Performance</h2>
            
            <h3>Google Lighthouse</h3>
            <div class="info-box warning">
                <strong>Dans Chrome DevTools (F12) :</strong>
                <ol>
                    <li>Onglet <strong>Lighthouse</strong></li>
                    <li>SÃ©lectionne les catÃ©gories : Performance, AccessibilitÃ©, SEO, Best Practices</li>
                    <li>Mode : Desktop ou Mobile</li>
                    <li>Clique sur <strong>"Analyze page load"</strong></li>
                </ol>
            </div>
            <p><strong>Scores recommandÃ©s :</strong></p>
            <ul>
                <li>ğŸŸ¢ Performance : >90</li>
                <li>ğŸŸ¢ AccessibilitÃ© : >90</li>
                <li>ğŸŸ¢ SEO : >90</li>
                <li>ğŸŸ¢ Best Practices : >90</li>
            </ul>

            <h3>Network Throttling</h3>
            <p>Simule une connexion lente :</p>
            <ol>
                <li>DevTools â†’ <strong>Network</strong></li>
                <li>Dropdown : "No throttling" â†’ <strong>Fast 3G / Slow 4G</strong></li>
                <li>Recharge la page</li>
            </ol>
        </div>

        <div class="section">
            <h2>ğŸ”’ Tests de SÃ©curitÃ©</h2>
            
            <h3>Test Injection SQL</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>Test manuel</span>
                </div>
                <pre><code>// Dans un champ de recherche/filtre, essaie :
'; DROP TABLE produits; --
' OR '1'='1
&lt;script&gt;alert('XSS')&lt;/script&gt;</code></pre>
            </div>
            <p>âœ… Le site doit rejeter ou Ã©chapper ces entrÃ©es</p>

            <h3>Test CORS</h3>
            <div class="code-block">
                <div class="code-header">
                    <span>PowerShell</span>
                </div>
                <pre><code>curl -H "Origin: http://malicious-site.com" http://localhost:3000/api/produits</code></pre>
            </div>
            <p>VÃ©rifie que les en-tÃªtes CORS sont correctement configurÃ©s</p>
        </div>

        <div class="section">
            <h2>ğŸ“‹ Checklist ComplÃ¨te Avant Production</h2>
            
            <div class="info-box success">
                <h3>Phase 1 : Tests Critiques</h3>
                <ul>
                    <li>â˜ <code>npm test</code> - Tous les tests passent</li>
                    <li>â˜ <code>verify-assets.js</code> - Aucune image manquante</li>
                    <li>â˜ <code>verify-database-state.js</code> - DB cohÃ©rente</li>
                    <li>â˜ Test-suite P1 - 5 tests critiques âœ…</li>
                </ul>
            </div>

            <div class="info-box warning">
                <h3>Phase 2 : Tests Importants</h3>
                <ul>
                    <li>â˜ Test-suite P2 - 6 tests importants âœ…</li>
                    <li>â˜ Lighthouse - Score >90 sur tous</li>
                    <li>â˜ Test responsive - 3 breakpoints</li>
                    <li>â˜ Cache localStorage fonctionne</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>Phase 3 : Tests RecommandÃ©s</h3>
                <ul>
                    <li>â˜ Test-suite P3 - 12 tests recommandÃ©s âœ…</li>
                    <li>â˜ SEO - Balises meta prÃ©sentes</li>
                    <li>â˜ Service Worker enregistrÃ©</li>
                    <li>â˜ Validation W3C HTML</li>
                    <li>â˜ Test sÃ©curitÃ© basique</li>
                </ul>
            </div>

            <div class="info-box error">
                <h3>Phase 4 : Build & Deploy</h3>
                <ul>
                    <li>â˜ <code>npm run build:all</code> - Minification OK</li>
                    <li>â˜ Test avec cache vidÃ© (Ctrl+Shift+R)</li>
                    <li>â˜ Test sur navigateurs multiples (Chrome, Firefox, Edge)</li>
                    <li>â˜ VÃ©rifier variables d'environnement (.env)</li>
                    <li>â˜ <code>NODE_ENV=production npm start</code></li>
                </ul>
            </div>
        </div>

        <div class="section">
            <h2>ğŸ› ï¸ Outils de Maintenance</h2>
            
            <table>
                <thead>
                    <tr>
                        <th>Outil</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><a href="../scripts/maintenance/test-suite.html">test-suite.html</a></td>
                        <td>ğŸŒ Web</td>
                        <td>Suite complÃ¨te de 23 tests automatisÃ©s</td>
                    </tr>
                    <tr>
                        <td><a href="../scripts/maintenance/test-console-errors.html">test-console-errors.html</a></td>
                        <td>ğŸŒ Web</td>
                        <td>DÃ©tection erreurs 404 (images + fiches)</td>
                    </tr>
                    <tr>
                        <td><a href="../scripts/maintenance/clear-cache.html">clear-cache.html</a></td>
                        <td>ğŸŒ Web</td>
                        <td>Vide le cache localStorage</td>
                    </tr>
                    <tr>
                        <td><code>verify-assets.js</code></td>
                        <td>âš™ï¸ Node</td>
                        <td>VÃ©rifie images et assets</td>
                    </tr>
                    <tr>
                        <td><code>verify-database-state.js</code></td>
                        <td>âš™ï¸ Node</td>
                        <td>ContrÃ´le intÃ©gritÃ© DB</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section">
            <h2>ğŸ“š Ressources Externes</h2>
            <ul>
                <li><a href="https://validator.w3.org/" target="_blank">ğŸŒ W3C HTML Validator</a> - Validation HTML</li>
                <li><a href="https://jigsaw.w3.org/css-validator/" target="_blank">ğŸ¨ W3C CSS Validator</a> - Validation CSS</li>
                <li><a href="https://web.dev/measure/" target="_blank">âš¡ Web.dev Measure</a> - Performance & SEO</li>
                <li><a href="https://www.webpagetest.org/" target="_blank">ğŸ”¬ WebPageTest</a> - Test de charge dÃ©taillÃ©</li>
                <li><a href="https://developers.google.com/speed/pagespeed/insights/" target="_blank">ğŸš€ PageSpeed Insights</a> - Analyse Google</li>
            </ul>
        </div>

        <div class="section">
            <h2>â“ FAQ Tests</h2>
            
            <h3>Combien de temps prend la suite complÃ¨te ?</h3>
            <p>Environ 2-3 minutes pour les 23 tests automatisÃ©s.</p>

            <h3>Puis-je arrÃªter les tests en cours ?</h3>
            <p>Oui, bouton <strong>"â¸ï¸ ArrÃªter"</strong> dans l'interface test-suite.</p>

            <h3>Les tests modifient-ils les donnÃ©es ?</h3>
            <p>Non, tous les tests sont en lecture seule. Aucune modification de la base de donnÃ©es.</p>

            <h3>Quels tests lancer quotidiennement ?</h3>
            <p>Tests PrioritÃ© Critique (P1) - 5 tests en 30 secondes.</p>

            <h3>Comment corriger les erreurs dÃ©tectÃ©es ?</h3>
            <p>Chaque test affiche un message dÃ©taillÃ©. Utilise les scripts de maintenance pour corriger automatiquement certains problÃ¨mes.</p>
        </div>
    </div>

    <footer>
        <p>ğŸ“š Wiki Site Gamer 2025 - Documentation Tests</p>
        <p><a href="wiki.html">Retour Ã  l'accueil</a></p>
    </footer>
</body>
</html>
